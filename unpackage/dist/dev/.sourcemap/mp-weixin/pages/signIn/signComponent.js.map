{"version":3,"sources":["webpack:///D:/project/mini-app/owner/pages/signIn/signComponent.vue?66f5","webpack:///D:/project/mini-app/owner/pages/signIn/signComponent.vue?26d2","webpack:///D:/project/mini-app/owner/pages/signIn/signComponent.vue?bcf2","webpack:///D:/project/mini-app/owner/pages/signIn/signComponent.vue?47cc","uni-app:///pages/signIn/signComponent.vue","webpack:///D:/project/mini-app/owner/pages/signIn/signComponent.vue?697c","webpack:///D:/project/mini-app/owner/pages/signIn/signComponent.vue?8b76"],"names":["props","lang","type","default","checkDate","bgweek","bgday","signDay","signtapNum","isPop","data","weeked","dayArr","localDate","day","year","month","weekArr","aheadDay","thisMonth","thisYear","canSign","isRepair","canSignDay","isSignToday","signDayNum","canSignList","totalMoney","isShowPop","baseMoney","signContent","startTime","endTime","repairTxt","watch","that","mounted","methods","showMsg","uni","title","icon","showPop","getToday","getNum","dayStr","repairJug","eachJug","changeDate","getSignArr","signArr","daySign","signToday","content","confirmText","cancelText","confirmColor","cancelColor","success","res","i","method","url","headers","community_code","initDate","obj","addBefore","addAfter","formatNum","lastMonth","nextMonth"],"mappings":";;;;;;;;;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAsI;AACtI;AACiE;AACL;AACsC;;;AAGlG;AACoL;AACpL,gBAAgB,2LAAU;AAC1B,EAAE,mFAAM;AACR,EAAE,oGAAM;AACR,EAAE,6GAAe;AACjB;AACA;AACA;AACA;AACA;AACA,EAAE,wGAAU;AACZ;AACA;;AAEA;AACe,gF;;;;;;;;;;;;ACvBf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;;;;;;;;;;;;;ACAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,MAAM;AACN;AACA;AACA;AACA;AACA;AACA,OAAO;AACP;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;;;ACvBA;AAAA;AAAA;AAAA;AAA+rB,CAAgB,6rBAAG,EAAC,C;;;;;;;;;;;;;;;;;;;;;AC0EntB;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;gBACA;EACAA;IACAC;MACAC;MACAC;IACA;IACAD;MACAA;MACAC;IACA;IACAC;MACAF;MACAC;IACA;IACAE;MACAH;MACAC;IACA;IACAG;MACAJ;MACAC;IACA;IACAI;MACAL;MACAC;IACA;IACAK;MACAN;MACAC;IACA;IACAM;MACAP;MACAC;IACA;EACA;EACAO;IACA;MACAC;MAAA;MACAC;MAAA;MACAC;MAAA;MACAC;MAAA;MACAC;MAAA;MACAC;MAAA;MACAC;MAAA;MACAC;MAAA;MACAC;MACAC;MACAC;MAAA;MACAC;MAAA;MACAC;MAAA;MACAC;MAAA;MACAC;MAAA;MACAC;MAAA;MACAC;MAAA;MACAC;MAAA;MACAC;MAAA;MACAC;MAAA;MACAC;MAAA;MACAC;MAAA;MACAC;IAEA;EACA;;EACAC;IACA3B;MACA;MACA;MACA;MACA;MACA4B;MACAA;MACAA;MACAA;MACAA;MACAA;MACAA;MACAA;MACAA;MACAA;MAEAA;IACA;IACA3B;MACA;IACA;IACAC;MACA;MACA;IACA;EACA;EACA2B;IACA;IACA;IACAD;IACA;IACAA;IACA;IACA;IACA;IACAA;IACA;IACA;MACA;QACAA;MACA;IACA;EACA;EACAE;IACAC;MACAC;QACAC;QACAC;MACA;IACA;IACAC;MACA;MACA;IACA;IACAC;MACA;MACA;IACA;IACAC;MACA;MACA;QACAC;MACA;QACAA;MACA;MACA;IACA;IACAC;MACA;MACA;MACA;QACA;QACA;UACAX;QACA;UACA;UACA;UACA;UACA;UACA;UACA;YACAA;UACA;UACA;QACA;MACA;IACA;IACAY;MACA;MACAZ;MACA;QACAA;QACA;MACA;MACA;QACA;QACA;UACA;UACA;UACAA;UACA;YACAA;UACA;UACA;UACA;YACAA;UACA;UACA;YACAA;UACA;YAAA;cACA;cACA;gBACAA;cACA;cACA;gBACAA;kBACA;gBACA;cACA;YAAA;UACA;QACA;MACA;IACA;IACA;IACAa;MACA;MACAb;MACAA;MACAA;IACA;IACAc;MACA;MACA;MACAd;QACA;UACA;YACAA;YACAe;UACA;QACA;MACA;MACA;MACA;IACA;IACA;IACAC;MACA;MACA;MACA;MACA;QACA;UACA;UACAD;UACAA;UACAf;UACAA;UACA;QACA;MACA;MACAA;MACAA;IACA;IACA;IACAiB;MACA;MACA;MACAb;QACAC;QACAa;QACAC;QACAC;QACAC;QACAC;QACAC;UAAA;YAAA;YAAA;cAAA;gBAAA;kBAAA;oBAAA,KACAC;sBAAA;sBAAA;oBAAA;oBACAT;oBACAU;kBAAA;oBAAA;sBAAA;sBAAA;oBAAA;oBAAA,IACAV;sBAAA;sBAAA;oBAAA;oBAAA;oBAAA,OACAf;sBACA0B;sBACAC;sBACAC;wBAAA;sBAAA;sBACArD;wBACAsD;wBACAlD;sBACA;oBACA;kBAAA;oBARA6C;oBASA;sBACAxB;sBACAe;sBACAA;sBACAf;sBACAA;sBACAA;oBACA;sBACAI;wBACAC;wBACAC;sBACA;oBACA;oBAAA;kBAAA;oBAvBAmB;oBAAA;oBAAA;kBAAA;kBAAA;oBAAA;gBAAA;cAAA;YAAA;UAAA;QAoCA;MACA;IACA;IACA;IACAK;MACA;MACA9B;MACA;MACA;MACA;MACA;QACA;QACA;QACA;QACA;UACAA;UACAA;QACA;UACAA;QACA;QACA;QACA;QACA+B;QACAA;QACA/B;QACA;QACA;MACA;MACAA;IACA;IACA;IACAgC;MACA;MACA;MACA;QACA;QACAD;QACAA;QACA/B;MACA;IACA;IACA;IACAiC;MACA;MACA;QACA;QACAF;QACAA;QACA/B;MACA;IACA;IACA;IACAkC;MACA;IACA;IACA;IACAC;MACA;MACA;QACAnC;QACAA;MACA;QACAA;MACA;MACAA;IACA;IACA;IACAoC;MACA;MACA;QACApC;QACAA;MACA;QACAA;MACA;MACAA;IACA;EACA;AACA;AAAA,4B;;;;;;;;;;;;;AC7aA;AAAA;AAAA;AAAA;AAAs0C,CAAgB,4vCAAG,EAAC,C;;;;;;;;;;;ACA11C;AACA,OAAO,KAAU,EAAE,kBAKd","file":"pages/signIn/signComponent.js","sourcesContent":["import { render, staticRenderFns, recyclableRender, components } from \"./signComponent.vue?vue&type=template&id=ccadeaa8&scoped=true&\"\nvar renderjs\nimport script from \"./signComponent.vue?vue&type=script&lang=js&\"\nexport * from \"./signComponent.vue?vue&type=script&lang=js&\"\nimport style0 from \"./signComponent.vue?vue&type=style&index=0&id=ccadeaa8&lang=scss&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../../Program Files/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"ccadeaa8\",\n  null,\n  false,\n  components,\n  renderjs\n)\n\ncomponent.options.__file = \"pages/signIn/signComponent.vue\"\nexport default component.exports","export * from \"-!../../../../../Program Files/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/templateLoader.js??vue-loader-options!../../../../../Program Files/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--17-0!../../../../../Program Files/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/template.js!../../../../../Program Files/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-uni-app-loader/page-meta.js!../../../../../Program Files/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../Program Files/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./signComponent.vue?vue&type=template&id=ccadeaa8&scoped=true&\"","var components\nvar render = function () {\n  var _vm = this\n  var _h = _vm.$createElement\n  var _c = _vm._self._c || _h\n  var g0 = Object.keys(\n    _vm.signDay.activity_list ? _vm.signDay.activity_list : {}\n  ).length\n  var m0 = _vm.formatNum(_vm.month)\n  var m1 = _vm.formatNum(_vm.day)\n  _vm.$mp.data = Object.assign(\n    {},\n    {\n      $root: {\n        g0: g0,\n        m0: m0,\n        m1: m1,\n      },\n    }\n  )\n}\nvar recyclableRender = false\nvar staticRenderFns = []\nrender._withStripped = true\n\nexport { render, staticRenderFns, recyclableRender, components }","import mod from \"-!../../../../../Program Files/HBuilderX/plugins/uniapp-cli/node_modules/babel-loader/lib/index.js!../../../../../Program Files/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--13-1!../../../../../Program Files/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/script.js!../../../../../Program Files/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../Program Files/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./signComponent.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../../Program Files/HBuilderX/plugins/uniapp-cli/node_modules/babel-loader/lib/index.js!../../../../../Program Files/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--13-1!../../../../../Program Files/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/script.js!../../../../../Program Files/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../Program Files/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./signComponent.vue?vue&type=script&lang=js&\"","<template>\n\t<view class=\"calendar-box\">\n\t\t<view class=\"top\">\n\t\t\t<view class=\"signTxt\">\n\t\t\t\t<image src=\"/static/images/index/Ico_TitleCard.svg\"/>\n\t\t\t\t<view class=\"signDay\" v-if=\"Object.keys(signDay.activity_list?signDay.activity_list:{}).length>0\">\n\t\t\t\t\t<view><text>已签到</text> <text>{{signDayNum}}</text> <text>天</text></view>\n\t\t\t\t\t<view><text>签到</text> <text>{{canSignDay}}天</text> <text>可得</text> <text>{{totalMoney}}元</text> <text>奖励</text></view>\n\t\t\t\t</view>\n\t\t\t\t<view class=\"signDay\" v-else>\n\t\t\t\t\t<view>\n\t\t\t\t\t\t<text>活动未开始</text>\n\t\t\t\t\t</view>\n\t\t\t\t\t<view>\n\t\t\t\t\t\t<text>请在活动时参加</text>\n\t\t\t\t\t</view>\n\t\t\t\t</view>\n\t\t\t</view>\n\t\t\t<template v-if=\"isRepair\">\n\t\t\t\t<button class=\"repairBtn\" @click=\"signToday\" v-if=\"isSignToday>0\">补签</button>\n\t\t\t\t<button class=\"repairBtn btnDis\" v-else>已补签</button>\n\t\t\t</template>\n\t\t</view>\n\t\t<view class=\"miss_box\">\n\t\t\t<view class=\"month\">\n\t\t\t\t<view class=\"lastBtn\" @click=\"lastMonth\"><image src=\"/static/images/index/24px_Btn_02_icon_Goback.svg\"/></view>\n\t\t\t\t<view class=\"todayTxt\">{{year}}-{{formatNum(month)}}-{{formatNum(day)}}</view>\n\t\t\t\t<view class=\"nextBtn\" @click=\"nextMonth\"><image src=\"/static/images/index/24px_Btn_01_icon_Jump.svg\"/></view>\n\t\t\t\t<picker v-if=\"checkDate\" class=\"picker\" mode=\"date\" fields=\"month\" @change=\"changeDate\" />\n\t\t\t</view>\n\t\t\t<view class=\"week\">\n\t\t\t\t<view :style=\"'color:'+(weeks==weeked?bgweek:'')+';'\" v-for=\"weeks,index in weekArr\" :key=\"index\">{{weeks}}</view>\n\t\t\t</view>\n\t\t\t<view class=\"line\"></view>\n\t\t\t<view class=\"day\">\n\t\t\t\t<template v-for=\"(days,index) in dayArr\">\n\t\t\t\t\t<view :class=\"[{'checkday':days.date==''},{'choose':days.date==localDate || days.flag }]\"\n\t\t\t\t\t\t:style=\"'background:'+(days.date==localDate || days.flag ? '#ecf6f6':'')+';'\" \n\t\t\t\t\t\t:key=\"index\"\n\t\t\t\t\t\tv-if=\"!days.flag\"\n\t\t\t\t\t>\n\t\t\t\t\t\t{{days.day}}\n\t\t\t\t\t</view>\n\t\t\t\t\t<image src=\"/static/images/index/Ico_sign.svg\" class=\"signPic\" v-if=\"days.flag && days.type == 1\" :key=\"index\"/>\n\t\t\t\t\t<image src=\"/static/images/index/Ico_repair.svg\" class=\"repairPic\" v-else-if=\"days.flag && days.type == 2\" :key=\"index\"/>\n\t\t\t\t</template>\n\t\t\t</view>\n\t\t</view>\n\t\t<view class=\"but\">\n\t\t\t<button :disabled='canSign ? false : true'  :style=\"'background:'+(canSign ? bgday : '#666')+';'\" @click=\"daySign\">立即签到</button>\n\t\t</view>\n\t\t<view class=\"activeTips\">\n\t\t\t<view>\n\t\t\t\t<text>活动时间:</text>\n\t\t\t\t<text>{{startTime}} - {{endTime}}</text>\n\t\t\t</view>\n\t\t\t<view class=\"rule\">\n\t\t\t\t<text>活动规则:</text>\n\t\t\t\t<view v-html=\"signContent\" class=\"signContent\"></view>\n\t\t\t</view>\n\t\t</view>\n\t\t<view class=\"mask\" v-if=\"isShowPop\">\n\t\t\t<view class=\"signPop\">\n\t\t\t\t<image src=\"https://wy.zhihuijiayuan.tech/uploads/20220708/34f32683c700f63279904f805abe1caa.png\"/>\n\t\t\t\t<view class=\"sucTxt\">签到成功</view>\n\t\t\t\t<view class=\"sucTips\" v-if=\"repairTxt\">今日签到获得 <text> {{baseMoney}}元 </text> 奖励</view>\n\t\t\t\t<button @click=\"showPop\">我知道了</button>\n\t\t\t\t<view class=\"reward\">连续签到{{canSignDay}}日可得 <text> {{totalMoney}}元 </text> 奖励</view>\n\t\t\t</view>\n\t\t</view>\n\t</view>\n</template>\n\n<script>\nimport { formatTimeTwo } from '@/utils/time.js';\n\texport default {\n\t\tprops: {\n\t\t\tlang: {\n\t\t\t\ttype: String,\n\t\t\t\tdefault: 'zh'\n\t\t\t},\n\t\t\ttype: {\n\t\t\t\ttype: String,\n\t\t\t\tdefault: 'calendar'\n\t\t\t},\n\t\t\tcheckDate: {\n\t\t\t\ttype: Boolean,\n\t\t\t\tdefault: false\n\t\t\t},\n\t\t\tbgweek: {\n\t\t\t\ttype: String,\n\t\t\t\tdefault: '#FF8F22'\n\t\t\t},\n\t\t\tbgday: {\n\t\t\t\ttype: String,\n\t\t\t\tdefault: '#3789fd'\n\t\t\t},\n\t\t\tsignDay:{\n\t\t\t\ttype:Object,\n\t\t\t\tdefault:()=>{}\n\t\t\t},\n\t\t\tsigntapNum:{\n\t\t\t\ttype:String,\n\t\t\t\tdefault:''\n\t\t\t},\n\t\t\tisPop:{\n\t\t\t\ttype:Boolean,\n\t\t\t\tdefault:false\n\t\t\t}\n\t\t},\n\t\tdata() {\n\t\t\treturn {\n\t\t\t\tweeked: '', // 今天周几\n\t\t\t\tdayArr: [], // 当前月每日\n\t\t\t\tlocalDate: '', // 今天日期\n\t\t\t\tday: new Date().getDate(), // 当前日\n\t\t\t\tyear: new Date().getFullYear(), // 当前年\n\t\t\t\tmonth: new Date().getMonth() + 1, // 当前月\n\t\t\t\tweekArr: ['日', '一', '二', '三', '四', '五', '六'], // 每周\n\t\t\t\taheadDay: 0,\t// 前方空白天数数量\n\t\t\t\tthisMonth: new Date().getMonth() + 1,\n\t\t\t\tthisYear:new Date().getFullYear(),\n\t\t\t\tcanSign:false, //今天是否还能进行签到\n\t\t\t\tisRepair:false, //是否需要补签\n\t\t\t\tcanSignDay:'', //签到的周期\n\t\t\t\tisSignToday:'', //今天是否还能进行补签\n\t\t\t\tsignDayNum:'', //签到的天数\n\t\t\t\tcanSignList:[], //签到周期列表\n\t\t\t\ttotalMoney:'', //连续签到得到的总钱数\n\t\t\t\tisShowPop:false, //是否显示弹窗\n\t\t\t\tbaseMoney:'', //基础获得金额\n\t\t\t\tsignContent:'', //规则内容\n\t\t\t\tstartTime:'', //开始时间\n\t\t\t\tendTime:'', //结束时间\n\t\t\t\trepairTxt:true, //补签时文字提示是否显示\n\n\t\t\t}\n\t\t},\n\t\twatch:{\n\t\t\tsignDay(newValue){\n\t\t\t\tlet that = this;\n\t\t\t\tlet signDay = newValue.can_sign_list.length*1;\n\t\t\t\tlet baseMoney = newValue.sign_activity_info.base_money*1;\n\t\t\t\tlet otherMoney = newValue.sign_activity_info.other_money*1;\n\t\t\t\tthat.canSignList = newValue.can_sign_list;\n\t\t\t\tthat.eachJug(newValue.activity_list);\n\t\t\t\tthat.signDayNum = newValue.sign_number;\n\t\t\t\tthat.canSignDay = newValue.can_sign_list.length;\n\t\t\t\tthat.isSignToday = newValue.can_append_number;\n\t\t\t\tthat.baseMoney = baseMoney;\n\t\t\t\tthat.totalMoney = signDay*baseMoney + otherMoney;\n\t\t\t\tthat.signContent = newValue.sign_activity_info.content;\n\t\t\t\tthat.startTime = formatTimeTwo(newValue.sign_activity_info.start_time,'/');\n\t\t\t\tthat.endTime = formatTimeTwo(newValue.sign_activity_info.end_time,'/');\n\n\t\t\t\tthat.repairJug();\n\t\t\t},\n\t\t\tsigntapNum(newValue){\n\t\t\t\tthis.isSignToday = newValue;\n\t\t\t},\n\t\t\tisPop(newValue){\n\t\t\t\tthis.repairTxt = false;\n\t\t\t\tthis.isShowPop = newValue;\n\t\t\t}\n\t\t},\n\t\tmounted() {\n\t\t\tlet that = this;\n\t\t\t// 初始日期\n\t\t\tthat.initDate();\n\t\t\t// 今天日期\n\t\t\tthat.localDate = that.year + '-' + that.formatNum(that.month) + '-' + that.formatNum(that.day);\n\t\t\t// 中英切换\n\t\t\tif (that.lang != 'zh') that.weekArr = ['Sun', 'Mon', 'Tue', 'Wed', 'Thu', 'Fri', 'Sat'];\n\t\t\t// 今天周几\n\t\t\tthat.weeked = that.weekArr[new Date().getDay()];\n\t\t\t// 签到功能\n\t\t\tif (that.type != 'calendar') {\n\t\t\t\tfor (let i in that.dayArr) {\n\t\t\t\t\tthat.$set(that.dayArr[i], 'flag', false);\n\t\t\t\t}\n\t\t\t}\n\t\t},\n\t\tmethods: {\n\t\t\tshowMsg(title){\n\t\t\t\tuni.showToast({\n\t\t\t\t\ttitle,\n\t\t\t\t\ticon: 'success'\n\t\t\t\t});\n\t\t\t},\n\t\t\tshowPop(){\n\t\t\t\tthis.isShowPop = false;\n\t\t\t\tthis.repairTxt = true;\n\t\t\t},\n\t\t\tgetToday(){\n\t\t\t\tlet date = this.dayArr[this.aheadDay + this.day -1].date;\n\t\t\t\treturn date.replace(/-/g,\"\");\n\t\t\t},\n\t\t\tgetNum(date){\n\t\t\t\tlet dayStr = date.slice(6);\n\t\t\t\tif(dayStr.slice(0,1) == '0'){\n\t\t\t\t\tdayStr = dayStr.slice(1)*1;\n\t\t\t\t}else{\n\t\t\t\t\tdayStr *= 1;\n\t\t\t\t}\n\t\t\t\treturn dayStr;\n\t\t\t},\n\t\t\trepairJug(){\n\t\t\t\tlet that = this;\n\t\t\t\tlet signArr = that.getSignArr();\n\t\t\t\tfor(let i = 0; i < signArr.length; i++){\n\t\t\t\t\t// console.log('sign',signArr[i].is_sign);\n\t\t\t\t\tif(signArr[i].is_sign){\n\t\t\t\t\t\tthat.isRepair = false;\n\t\t\t\t\t}else{\n\t\t\t\t\t\tlet todayDate = that.getToday();\n\t\t\t\t\t\tlet todayStr = that.getNum(todayDate);\n\t\t\t\t\t\tlet signStr = that.getNum(signArr[i].date);\n\t\t\t\t\t\t// console.log('to',todayStr);\n\t\t\t\t\t\t// console.log('si',signStr);\n\t\t\t\t\t\tif(signStr < todayStr){\n\t\t\t\t\t\t\tthat.isRepair = true;\n\t\t\t\t\t\t}\n\t\t\t\t\t\tbreak;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t},\n\t\t\teachJug(arr){\n\t\t\t\tlet that = this;\n\t\t\t\tthat.canSign = false;\n\t\t\t\tif(Object.keys(that.signDay).length == 0){\n\t\t\t\t\tthat.canSign = false;\n\t\t\t\t\treturn;\n\t\t\t\t}\n\t\t\t\tfor(let item in arr){\n\t\t\t\t\tlet monStr = item.slice(5,6);\n\t\t\t\t\tif(that.year == that.thisYear && monStr == that.month){\n\t\t\t\t\t\tlet dayStr = that.getNum(item);\n\t\t\t\t\t\tlet idx = that.aheadDay + dayStr - 1;\n\t\t\t\t\t\tthat.dayArr[idx].type = arr[item].type;\n\t\t\t\t\t\tif(arr[item].is_sign){\n\t\t\t\t\t\t\tthat.$set(that.dayArr[idx],'flag',true);\n\t\t\t\t\t\t}\n\t\t\t\t\t\tlet curday = that.aheadDay + that.day - 1;\n\t\t\t\t\t\tif(that.month != that.thisMonth){\n\t\t\t\t\t\t\tthat.canSign = false;\n\t\t\t\t\t\t}\n\t\t\t\t\t\tif(that.month == that.thisMonth && that.dayArr[curday].flag){\n\t\t\t\t\t\t\tthat.canSign = false;\n\t\t\t\t\t\t}else if(that.month == that.thisMonth){\n\t\t\t\t\t\t\tlet date = that.getToday();\n\t\t\t\t\t\t\tif(date == item){\n\t\t\t\t\t\t\t\tthat.canSign = true;\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\tif(that.canSignList.length>0){\n\t\t\t\t\t\t\t\tthat.canSign = that.canSignList.some(item=>{\n\t\t\t\t\t\t\t\t\treturn item == date;\n\t\t\t\t\t\t\t\t})\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t},\n\t\t\t// 选择年月\n\t\t\tchangeDate(e) {\n\t\t\t\tlet that = this;\n\t\t\t\tthat.year = parseInt(e.detail.value.split('-')[0]);\n\t\t\t\tthat.month = parseInt(e.detail.value.split('-')[1]);\n\t\t\t\tthat.initDate();\n\t\t\t},\n\t\t\tgetSignArr(){\n\t\t\t\tlet that = this;\n\t\t\t\tlet signArr = [];\n\t\t\t\tthat.signDay.can_sign_list.forEach(item=>{\n\t\t\t\t\tfor(let itm in that.signDay.activity_list){\n\t\t\t\t\t\tif(item == itm){\n\t\t\t\t\t\t\tthat.signDay.activity_list[itm].date = itm;\n\t\t\t\t\t\t\tsignArr.push(that.signDay.activity_list[itm]);\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t})\n\t\t\t\t// console.log('sign2',signArr);\n\t\t\t\treturn signArr;\n\t\t\t},\n\t\t\t// 今日签到\n\t\t\tdaySign() {\n\t\t\t\tlet that = this;\n\t\t\t\tlet date = that.getToday();\n\t\t\t\tlet signArr = that.getSignArr();\n\t\t\t\tfor(let i = 0; i < signArr.length; i++){\n\t\t\t\t\tif(signArr[i].date == date){\n\t\t\t\t\t\tthis.$emit('change', date);\n\t\t\t\t\t\tsignArr[i].is_sign = 1;\n\t\t\t\t\t\tsignArr[i].type = 1;\n\t\t\t\t\t\tthat.eachJug(that.signDay.activity_list);\n\t\t\t\t\t\tthat.repairJug();\n\t\t\t\t\t\tbreak;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\tthat.signDayNum++;\n\t\t\t\tthat.isShowPop = true;\n\t\t\t},\n\t\t\t// 点击补签\n\t\t\tsignToday(){\n\t\t\t\tlet that = this;\n\t\t\t\tlet costMy = that.signDay.sign_activity_info.append_reduce_money*1;\n\t\t\t\tuni.showModal({\n\t\t\t\t\ttitle: '提示信息',\n\t\t\t\t\tcontent: `补签将自动花费${costMy}元余额`,\n\t\t\t\t\tconfirmText: '确定',\n\t\t\t\t\tcancelText: '取消',\n\t\t\t\t\tconfirmColor: '#16bcc7',\n\t\t\t\t\tcancelColor: \"#262626\",\n\t\t\t\t async success(res) {\n\t\t\t\t\t\tif (res.confirm) {\n\t\t\t\t\t\t\tlet signArr = that.getSignArr();\n\t\t\t\t\t\t\tfor(let i = 0; i < signArr.length; i++){\n\t\t\t\t\t\t\t\tif(!signArr[i].is_sign){\n                  let res = await that.request({\n                  \tmethod:'POST',\n                  \turl:'/v1/signs',\n                  \theaders:{'Content-Type':'application/x-www-form-urlencoded'},\n                  \tdata:{\n                  \t\tcommunity_code:uni.getStorageSync('userInfo').community_code,\n                  \t\tday:signArr[i].date\n                  \t}\n                  })\n                  if(res.code == 200){\n                    that.$emit('change', \"success\" + res.data.can_append_number);\n                    signArr[i].is_sign = 1;\n                    signArr[i].type = 2;\n                    that.eachJug(that.signDay.activity_list);\n                    that.repairJug();\n                    that.signDayNum++;\n                  }else{\n                    uni.showToast({\n                      title:res.desc,\n                      icon:'none'\n                    })\n                  }\n                  break;\n\t\t\t\t\t\t\t\t\t// that.$emit('change',signArr[i].date);\n\t\t\t\t\t\t\t\t\t// signArr[i].is_sign = 1;\n\t\t\t\t\t\t\t\t\t// signArr[i].type = 2;\n\t\t\t\t\t\t\t\t\t// that.eachJug(that.signDay.activity_list);\n\t\t\t\t\t\t\t\t\t// that.repairJug();\n\t\t\t\t\t\t\t\t\t// break;\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t// that.repairTxt = false;\n\t\t\t\t\t\t\t// that.isShowPop = true;\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t})\n\t\t\t},\n\t\t\t// 初始化日期\n\t\t\tinitDate() {\n\t\t\t\tlet that = this;\n\t\t\t\tthat.dayArr = [];\n\t\t\t\t// 当前月总天数\n\t\t\t\tlet totalDay = new Date(that.year, that.month, 0).getDate();\n\t\t\t\t// 遍历总天数将日期逐个添加至数组\n\t\t\t\tfor (let i = 1; i <= totalDay; i++) {\n\t\t\t\t\t// 得到需补充天数\n\t\t\t\t\tlet value = (new Date(that.year, that.month - 1, i)).getDay();\n\t\t\t\t\t// 补充前面空白日期\n\t\t\t\t\tif (i == 1 && value != 0) {\n\t\t\t\t\t\tthat.addBefore(value);\n\t\t\t\t\t\tthat.aheadDay = value;\n\t\t\t\t\t}else if(i == 1 && value == 0){\n\t\t\t\t\t\tthat.aheadDay = 0;\n\t\t\t\t\t}\n\t\t\t\t\t// 添加本月日期\n\t\t\t\t\tlet obj = {};\n\t\t\t\t\tobj.date = that.year + '-' + that.formatNum(that.month) + '-' + that.formatNum(i);\n\t\t\t\t\tobj.day = i;\n\t\t\t\t\tthat.dayArr.push(obj);\n\t\t\t\t\t// 补充后面空白日期\n\t\t\t\t\tif (i == totalDay && value != 6) that.addAfter(value);\n\t\t\t\t}\n\t\t\t\tthat.eachJug(that.signDay.activity_list);\n\t\t\t},\n\t\t\t// 补充前面空白日期\n\t\t\taddBefore(value) {\n\t\t\t\tlet that = this;\n\t\t\t\tlet totalDay = new Date(that.year, that.month - 1, 0).getDate();\n\t\t\t\tfor (let i = 0; i < value; i++) {\n\t\t\t\t\tlet obj = {};\n\t\t\t\t\tobj.date = '';\n\t\t\t\t\tobj.day = totalDay - (value - i) + 1;\n\t\t\t\t\tthat.dayArr.push(obj);\n\t\t\t\t}\n\t\t\t},\n\t\t\t// 补充后空白日期\n\t\t\taddAfter(value) {\n\t\t\t\tlet that = this;\n\t\t\t\tfor (let i = 0; i < (6 - value); i++) {\n\t\t\t\t\tlet obj = {};\n\t\t\t\t\tobj.date = '';\n\t\t\t\t\tobj.day = i + 1;\n\t\t\t\t\tthat.dayArr.push(obj);\n\t\t\t\t}\n\t\t\t},\n\t\t\t// 格式化日期位数\n\t\t\tformatNum(num) {\n\t\t\t\treturn num < 10 ? ('0' + num) : num;\n\t\t\t},\n\t\t\t// 上一个月\n\t\t\tlastMonth() {\n\t\t\t\tlet that = this;\n\t\t\t\tif (that.month == 1) {\n\t\t\t\t\tthat.year -= 1;\n\t\t\t\t\tthat.month = 12;\n\t\t\t\t} else {\n\t\t\t\t\tthat.month -= 1;\n\t\t\t\t}\n\t\t\t\tthat.initDate();\n\t\t\t},\n\t\t\t// 下一个月\n\t\t\tnextMonth() {\n\t\t\t\tlet that = this;\n\t\t\t\tif (that.month == 12) {\n\t\t\t\t\tthat.year += 1;\n\t\t\t\t\tthat.month = 1;\n\t\t\t\t} else {\n\t\t\t\t\tthat.month += 1;\n\t\t\t\t}\n\t\t\t\tthat.initDate();\n\t\t\t}\n\t\t}\n\t}\n</script>\n\n<style lang=\"scss\" scoped>\n   $font-family:\"Arial, \"Helvetica Neue\", Helvetica, sans-serif\";\n\t.calendar-box {\n\t\twidth: 100%;\n\t\tflex-direction: column;\n\t\tjustify-content: center;\n\t\tposition: relative;\n\t\ttop: 115rpx;\n\t}\n\t.mask{\n\t\tposition: fixed;\n\t\ttop: 0px;\n\t\tbottom: 0px;\n\t\tleft: 0px;\n\t\tright: 0px;\n\t\tbackground: rgba(0, 0, 0, 0.3);\n\t\t.signPop{\n\t\t\twidth: 500rpx;\n\t\t\theight: 620rpx;\n\t\t\tborder-radius: 25rpx;\n\t\t\tbackground-color: #fff;\n\t\t\tposition: fixed;\n\t\t\ttop: 0px;\n\t\t\tbottom: 0px;\n\t\t\tleft: 0px;\n\t\t\tright: 0px;\n\t\t\tmargin: auto;\n\t\t\timage{\n\t\t\t\twidth: 100%;\n\t\t\t\theight: 260rpx;\n\t\t\t\tborder-radius: 25rpx;\n\t\t\t}\n\t\t\t.sucTxt{\n\t\t\t\tfont-size: 44rpx;\n\t\t\t\tcolor: #1CA3AD;\n\t\t\t\ttext-align: center;\n\t\t\t\tfont-family: $font-family;\n\t\t\t\tmargin-bottom: 20rpx;\n\t\t\t}\n\t\t\t.sucTips{\n\t\t\t\ttext-align: center;\n\t\t\t\tfont-family: $font-family;\n\t\t\t\tfont-size: 30rpx;\n\t\t\t\tcolor: #717171;\n\t\t\t\ttext{\n\t\t\t\t\tcolor: #f27900;\n\t\t\t\t\tmargin-left: 10rpx;\n\t\t\t\t\tmargin-right: 10rpx;\n\t\t\t\t}\n\t\t\t}\n\t\t\tbutton{\n\t\t\t\twidth: 280rpx;\n\t\t\t\theight: 90rpx;\n\t\t\t\tfont-size: 34rpx;\n\t\t\t\tline-height: 90rpx;\n\t\t\t\ttext-align: center;\n\t\t\t\tfont-family: $font-family;\n\t\t\t\tbackground-color: #20CDD9;\n\t\t\t\tcolor: #fff;\n\t\t\t\tborder-radius: 60rpx;\n\t\t\t\tpadding: 0;\n\t\t\t\tmargin-top: 50rpx;\n\t\t\t}\n\t\t\t.reward{\n\t\t\t\ttext-align: center;\n\t\t\t\tmargin-top: 24rpx;\n\t\t\t\tcolor: #9a9a9a;\n\t\t\t\tfont-family: $font-family;\n\t\t\t\ttext{\n\t\t\t\t\tcolor: #f27900;\n\t\t\t\t\tmargin-left: 10rpx;\n\t\t\t\t\tmargin-right: 10rpx;\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n\n\t.activeTips{\n\t\twidth: 700rpx;\n\t\theight: 120rpx;\n\t\tmargin-top: 40rpx;\n\t\ttext{\n\t\t\tcolor: #939596;\n\t\t}\n\t\ttext:nth-child(2){\n\t\t\tmargin-left: 20rpx;\n\t\t\tfont-size: 28rpx;\n\t\t}\n\t\t.rule{\n\t\t\tdisplay: flex;\n\t\t\tflex-direction: column;\n\t\t\tmargin-top: 20rpx;\n\t\t}\n\t\t.signContent{\n\t\t\tcolor: #939596;\n\t\t\tmargin-left: 30rpx;\n\t\t\tmargin-top: 15rpx;\n      margin-bottom: 40rpx;\n\t\t}\n\t}\n\n\t.lastBtn,.nextBtn{\n\t\twidth: 80rpx;\n\t\theight: 80rpx;\n\t\tbackground-color: #f2f5f7;\n\t\tborder-radius: 12rpx;\n\t\tdisplay: flex;\n\t\tjustify-content: center;\n\t\talign-items: center;\n\t\timage{\n\t\t\twidth: 48rpx;\n\t\t\theight: 48rpx;\n\t\t}\n\t}\n\n\t.todayTxt{\n\t\tfont-size: 34rpx;\n\t\tcolor: #0D97B2;\n\t\tfont-family: $font-family;\n\t\tfont-weight: medium;\n\t}\n\n\t.top {\n\t\twidth: 700rpx;\n\t\theight: 220rpx;\n\t\tpadding: 22rpx 36rpx;\n\t\tborder-radius: 12rpx;\n\t\tmargin-bottom: 30rpx;\n\t\tbackground: url('https://wy.zhihuijiayuan.tech/uploads/20220708/0dfd84516f3f810e8e46c928d2bfb456.png') center center;\n\t\tbackground-size: 100% 100%;\n\t\tdisplay: flex;\n\t\talign-items: center;\n\t\t.signTxt{\n\t\t\twidth: 480rpx;\n\t\t\theight: 160rpx;\n\t\t\t// background-color: greenyellow;\n\t\t\tdisplay: flex;\n\t\t\tjustify-content: space-around;\n\t\t\talign-items: center;\n\t\t\timage{\n\t\t\t\twidth: 115rpx;\n\t\t\t\theight: 115rpx;\n\t\t\t}\n\t\t\t.signDay{\n\t\t\t\twidth: 338rpx;\n\t\t\t\theight: 140rpx;\n\t\t\t\t// background-color: red;\n\t\t\t\tdisplay: flex;\n\t\t\t\tflex-direction: column;\n\t\t\t\tjustify-content: center;\n\t\t\t\tview:nth-child(1){\n\t\t\t\t\tfont-size: 40rpx;\n\t\t\t\t\tmargin-bottom: 15rpx;\n\t\t\t\t\ttext{\n\t\t\t\t\t\tcolor: #0d97b2;\n\t\t\t\t\t\tfont-weight: bold;\n\t\t\t\t\t}\n\t\t\t\t\ttext:nth-child(2){\n\t\t\t\t\t\tmargin: 0 15rpx;\n\t\t\t\t\t\tcolor: #f27900;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\tview:nth-child(2){\n\t\t\t\t\tfont-size: 28rpx;\n\t\t\t\t\ttext{\n\t\t\t\t\t\tcolor: #6e6e6e;\n\t\t\t\t\t}\n\t\t\t\t\ttext:nth-child(2){\n\t\t\t\t\t\tmargin: 0 10rpx;\n\t\t\t\t\t\tcolor: #f27900;\n\t\t\t\t\t}\n\t\t\t\t\ttext:nth-child(4){\n\t\t\t\t\t\tmargin: 0 10rpx;\n\t\t\t\t\t\tcolor: #f27900;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t\t.repairBtn{\n\t\t\twidth: 150rpx;\n\t\t\theight: 70rpx;\n\t\t\tfont-size: 28rpx;\n\t\t\tfont-family: $font-family;\n\t\t\tcolor: #fff;\n\t\t\tbackground-color: #faa90f;\n\t\t\tborder-radius: 40rpx;\n\t\t\tline-height: 70rpx;\n\t\t\tborder: 0;\n\t\t\tpadding: 0;\n\t\t\ttext-align: center;\n\t\t\tposition: absolute;\n\t\t\tright: 46rpx;\n\t\t}\n\t\t.btnDis{\n\t\t\tbackground-color: #ffc86e;\n\t\t}\n\t}\n\t\n\t.miss_box {\n\t\twidth: 700rpx;\n\t\tpadding: 20rpx 30rpx;\n\t\tbox-sizing: border-box;\n\t\tbackground-color: #FFFFFF;\n\t\tborder-radius: 25rpx;\n\t}\n\t\n\t.calendar-box,\n\t.month,\n\t.week,\n\t.day {\n\t\tdisplay: flex;\n\t\talign-items: center;\n\t\tjustify-content: space-between;\n\t}\n\t\n\t.month,\n\t.week,\n\t.day {\n\t\twidth: 100%;\n\t}\n\t.line{\n\t\tborder-bottom: 1rpx solid #ccc;\n\t\tmargin-top: 10rpx;\n\t\tmargin-bottom: 10rpx;\n\t}\n\t\n\t.month {\n\t\tmargin: 30rpx 0;\n\t\tposition: relative;\n\t}\n\t\n\t.picker {\n\t\twidth: 160rpx;\n\t\theight: 40rpx;\n\t\tposition: absolute;\n\t\ttop: 20rpx;\n\t\tleft: 50%;\n\t\ttransform: translate(-50%, -50%);\n\t}\n\t\n\t.day {\n\t\tflex-wrap: wrap;\n\t}\n\t\n\t.week>view,\n\t.day>view {\n\t\twidth: 82rpx;\n\t\theight: 82rpx;\n\t\t// margin: 10rpx;\n\t\ttext-align: center;\n\t\tposition: relative;\n\t\tline-height: 82rpx;\n\t}\n\t\n\t.checkday {\n\t\tcolor: #999;\n\t}\n\t\n\t.choose {\n\t\tcolor: #219C9C;\n\t\tborder-radius: 24rpx;\n\t\tborder: 1rpx solid #82CCCC;\n\t}\n\t\n\t.signPic,.repairPic{\n\t\twidth: 82rpx;\n\t\theight: 82rpx;\n\t}\n\t\n\t.but {\n\t\tdisplay: flex;\n\t\tflex: 1;\n\t\tmargin-top: 40rpx;\n\t\tjustify-content: center;\n\t}\n\t.but button {\n\t\twidth: 686rpx;\n\t\theight: 108rpx;\n\t\tline-height: 108rpx;\n\t\tborder-radius: 14rpx;\n\t\tborder: 0;\n\t\tcolor: #FFFFFF;\n\t\tfont-size: 32rpx;\n\t\tfont-family: $font-family;\n\t}\n\tuni-button:after {\n\t\tborder: none;\n\t}\n</style>\n","import mod from \"-!../../../../../Program Files/HBuilderX/plugins/uniapp-cli/node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../../../Program Files/HBuilderX/plugins/uniapp-cli/node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../../../Program Files/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/stylePostLoader.js!../../../../../Program Files/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--8-oneOf-1-2!../../../../../Program Files/HBuilderX/plugins/uniapp-cli/node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-3!../../../../../Program Files/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/sass-loader/dist/cjs.js??ref--8-oneOf-1-4!../../../../../Program Files/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--8-oneOf-1-5!../../../../../Program Files/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../Program Files/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./signComponent.vue?vue&type=style&index=0&id=ccadeaa8&lang=scss&scoped=true&\"; export default mod; export * from \"-!../../../../../Program Files/HBuilderX/plugins/uniapp-cli/node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../../../Program Files/HBuilderX/plugins/uniapp-cli/node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../../../Program Files/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/stylePostLoader.js!../../../../../Program Files/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--8-oneOf-1-2!../../../../../Program Files/HBuilderX/plugins/uniapp-cli/node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-3!../../../../../Program Files/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/sass-loader/dist/cjs.js??ref--8-oneOf-1-4!../../../../../Program Files/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--8-oneOf-1-5!../../../../../Program Files/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../Program Files/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./signComponent.vue?vue&type=style&index=0&id=ccadeaa8&lang=scss&scoped=true&\"","// extracted by mini-css-extract-plugin\n    if(module.hot) {\n      // 1707128370973\n      var cssReload = require(\"D:/Program Files/HBuilderX/plugins/uniapp-cli/node_modules/mini-css-extract-plugin/dist/hmr/hotModuleReplacement.js\")(module.id, {\"hmr\":true,\"publicPath\":\"../../\",\"locals\":false});\n      module.hot.dispose(cssReload);\n      module.hot.accept(undefined, cssReload);\n    }\n  "],"sourceRoot":""}