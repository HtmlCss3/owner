{"version":3,"sources":["uni-app:///main.js","webpack:///D:/project/mini-app/owner/App.vue?811e","webpack:///D:/project/mini-app/owner/App.vue?6abd","uni-app:///App.vue","webpack:///D:/project/mini-app/owner/App.vue?1dba","webpack:///D:/project/mini-app/owner/App.vue?17c8"],"names":["wx","__webpack_require_UNI_MP_PLUGIN__","__webpack_require__","Vue","config","productionTip","App","mpType","server_url","prototype","$websiteUrl","$appKey","$app_secret","plugin","request","baseURL","onDetails","id","title","to","url","animationType","animationDuration","uni","navigateTo","success","res","fail","e","$save_client","uid","that","inf","plus","push","getClientInfo","version","runtime","phone_model","getSystemInfo","data","system","brand","model","datas","user_id","client_id","clientid","app_version","method","then","$logout","clearStorageSync","reLaunch","$getAuth","authType","authArr","handler","i","length","name","use","app","$mount","onLaunch","key","timestamp","header","signature","time_stamp","nonce","app_key","refresh_token","icon","onShow","onHide"],"mappings":"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AAwD,GAAG,EAACC,MAAM,EAAE,C;;;;;;;;;;;;;AC9FZ;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AACuD;AACL;AACa;;;AAG/D;AAC8K;AAC9K,gBAAgB,2LAAU;AAC1B,EAAE,yEAAM;AACR;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACe,gF;;;;;;;;;;;;ACvBf;AAAA;AAAA;AAAA;AAAupB,CAAgB,mrBAAG,EAAC,C;;;;;;;;;;;;;;;;;;;ACC3qB;AACA;AAEA,eACA;EACAC;IACA;IACAzC;MACA0C;MACAxC;QACA;QACA;QACA;QACA;UACA;UACA,iFACA;QACA;QACA;QACA;QACAyC;QACA;QACA;QACA;QACA;UACA;UACA;UACA;UACA3C;YACAH;YACA6B;YACAkB;YACA3B;cACA4B,8EACAxD,mDACAyD;cACAC;cACAD;cACAE;cACAC;YACA;UACA;YACA;cACAjD;gBACA0C;gBACAzB;gBACAf;kBACAF;oBACAH;kBACA;gBACA;cACA;YAEA;UACA;QACA;QACA;UACAG;YACAL;YACAuD;UACA;UACA;QACA;MAIA;IACA;EAaA;EACAC;EACAC;AACA;AAAA,2B;;;;;;;;;;;;;ACpFA;AAAA;AAAA;AAAA;AAAg8B,CAAgB,o8BAAG,EAAC,C;;;;;;;;;;;ACAp9B;AACA,OAAO,KAAU,EAAE,kBAKd","file":"common/main.js","sourcesContent":["import 'uni-pages';\r\n// @ts-ignore\r\nwx.__webpack_require_UNI_MP_PLUGIN__ = __webpack_require__;import Vue from 'vue'\r\nimport App from './App'\r\n\r\nVue.config.productionTip = false\r\n\r\nApp.mpType = 'app'\r\n\r\nimport request from 'utils/request.js'\r\nvar server_url = 'https://wy.yszyun.com';\r\nVue.prototype.$websiteUrl = server_url;\r\nVue.prototype.$appKey = 123456789;\r\nVue.prototype.$app_secret = 'abcdef';\r\nvar plugin = request({\r\n\tbaseURL: server_url\r\n})\r\n// ������ҳ\r\nVue.prototype.onDetails = function(id, title) {to(`/pages/article/details?id=${id}&title=${title}`)}\r\nconst to = (url, animationType = 'pop-in', animationDuration = 300) => {\r\n\tuni.navigateTo({\r\n\t\turl,\r\n\t\tanimationType,\r\n\t\tanimationDuration,\r\n\t\tsuccess: function (res) {\r\n\t\t},\r\n\t\tfail: function (e) {\r\n\t\t}\r\n\t})\r\n}\r\n\r\nVue.prototype.$save_client = function(uid) {\r\n\tvar that = this;\r\n\tvar inf = plus.push.getClientInfo();\r\n\tvar version = plus.runtime.version;\r\n\tlet phone_model = ''\r\n\tuni.getSystemInfo({\r\n\t\tsuccess: (data) => {\r\n\t\t\tphone_model = data.system + '|' + data.brand + '|' + data.model\r\n\t\t}\r\n\t})\r\n\tlet datas = {\r\n\t\tuser_id: uid,\r\n\t\tclient_id: inf.clientid,\r\n\t\tapp_version: plus.runtime.version,\r\n\t\tphone_model: phone_model\r\n\t}\r\n\tthat.request({\r\n\t\turl: '/v1/token/save_client',\r\n\t\tdata: datas,\r\n\t\tmethod: 'post',\r\n\t}).then((res) => {})\r\n};\r\nVue.prototype.$logout = function() {\r\n\tthis.request({\r\n\t\turl: '/v1/token/logout',\r\n\t\tmethod: 'get',\r\n\t}).then((res) => {})\r\n\r\n\tuni.clearStorageSync()\r\n\r\n\r\n\r\n\r\n\tuni.reLaunch({\r\n\t\turl: '/pages/index/index'\r\n\t})\r\n\r\n\r\n\r\n\r\n};\r\nVue.prototype.$getAuth = function(authType) {\r\n\tlet authArr = ''\r\n\tthis.request({\r\n\t\turl: '/mobile/auth',\r\n\t\tmethod: 'get',\r\n\t\tdata: {\r\n\t\t\thandler: authType\r\n\t\t},\r\n\t}).then((res) => {\r\n\t\tlet data = res.data.data;\r\n\t\tfor (let i = 0; i < data.length; i++) {\r\n\t\t\tauthArr += data[i].name + ','\r\n\t\t}\r\n\r\n\t})\r\n};\r\nVue.use(plugin)\r\n\r\n\r\nconst app = new Vue({\r\n\t...App\r\n})\r\napp.$mount()","var render, staticRenderFns, recyclableRender, components\nvar renderjs\nimport script from \"./App.vue?vue&type=script&lang=js&\"\nexport * from \"./App.vue?vue&type=script&lang=js&\"\nimport style0 from \"./App.vue?vue&type=style&index=0&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../Program Files/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null,\n  false,\n  components,\n  renderjs\n)\n\ncomponent.options.__file = \"App.vue\"\nexport default component.exports","import mod from \"-!../../../Program Files/HBuilderX/plugins/uniapp-cli/node_modules/babel-loader/lib/index.js!../../../Program Files/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--13-1!../../../Program Files/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/script.js!../../../Program Files/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../Program Files/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./App.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../Program Files/HBuilderX/plugins/uniapp-cli/node_modules/babel-loader/lib/index.js!../../../Program Files/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--13-1!../../../Program Files/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/script.js!../../../Program Files/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../Program Files/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./App.vue?vue&type=script&lang=js&\"","<script>\r\n\timport md5 from 'common/md5.js'\r\n\timport {\r\n\t\tBase64\r\n\t} from './utils/base64.js'\r\n\texport default {\r\n\t\tonLaunch: function() {\r\n\t\t\tlet that = this\r\n\t\t\tuni.getStorage({\r\n\t\t\t\tkey: 'myinfo',\r\n\t\t\t\tsuccess: function(res) {\r\n\t\t\t\t\tlet access_token = res.data.access_token;\r\n\t\t\t\t\tlet user_id = res.data.client.user_id;\r\n\t\t\t\t\tlet app_key = res.data.client.app_key;\r\n\t\t\t\t\tlet header = {\r\n\t\t\t\t\t\t'Content-Type': 'application/x-www-form-urlencoded',\r\n\t\t\t\t\t\t'authentication': 'USERID ' + Base64.encode(app_key + ':' + access_token +\r\n\t\t\t\t\t\t\t':' + user_id)\r\n\t\t\t\t\t}\r\n\t\t\t\t\t//当前时间\r\n\t\t\t\t\tvar timestamp = new Date().getTime();\r\n\t\t\t\t\ttimestamp = Math.round(new Date().getTime() / 1000).toString();\r\n\t\t\t\t\t// token有效期\r\n\t\t\t\t\tlet expires_time = res.data.expires_time\r\n\t\t\t\t\tlet refresh_expires_time = res.data.refresh_expires_time\r\n\t\t\t\t\tif (expires_time - parseInt(timestamp) < 43200) {\r\n\t\t\t\t\t\tlet refresh_token = res.data.refresh_token\r\n\t\t\t\t\t\tlet nonce = Math.random().toString(36).substr(2)\r\n\t\t\t\t\t\tlet time_stamp = Date.parse(new Date()) / 1000\r\n\t\t\t\t\t\tuni.request({\r\n\t\t\t\t\t\t\turl: that.$websiteUrl + '/v1/token/refresh',\r\n\t\t\t\t\t\t\tmethod: 'POST',\r\n\t\t\t\t\t\t\theader: header,\r\n\t\t\t\t\t\t\tdata: {\r\n\t\t\t\t\t\t\t\tsignature: md5('app_key=' + this.$appKey + '&app_secret=' + this\r\n\t\t\t\t\t\t\t\t\t.$app_secret + '&nonce=' + nonce + '&time_stamp=' +\r\n\t\t\t\t\t\t\t\t\ttime_stamp + '&refresh_token=' + refresh_token),\r\n\t\t\t\t\t\t\t\tnonce: nonce,\r\n\t\t\t\t\t\t\t\ttime_stamp: time_stamp,\r\n\t\t\t\t\t\t\t\tapp_key: this.$appKey,\r\n\t\t\t\t\t\t\t\trefresh_token: refresh_token\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t}).then((accessToken) => {\r\n\t\t\t\t\t\t\tif (accessToken[1].statusCode === 200) {\r\n\t\t\t\t\t\t\t\tuni.setStorage({\r\n\t\t\t\t\t\t\t\t\tkey: 'myinfo',\r\n\t\t\t\t\t\t\t\t\tdata: accessToken[1].data.data,\r\n\t\t\t\t\t\t\t\t\tsuccess: function() {\r\n\t\t\t\t\t\t\t\t\t\tuni.reLaunch({\r\n\t\t\t\t\t\t\t\t\t\t\turl: 'pages/index/index'\r\n\t\t\t\t\t\t\t\t\t\t})\r\n\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t});\r\n\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t})\r\n\t\t\t\t\t}\r\n\t\t\t\t\tif (refresh_expires_time - parseInt(timestamp) < 43200) {\r\n\t\t\t\t\t\tuni.showToast({\r\n\t\t\t\t\t\t\ttitle: '登录已过期',\r\n\t\t\t\t\t\t\ticon: none\r\n\t\t\t\t\t\t})\r\n\t\t\t\t\t\tthis.$logout();\r\n\t\t\t\t\t}\r\n\r\n\r\n\r\n\t\t\t\t}\r\n\t\t\t});\r\n\t\t\t// #ifdef APP-PLUS  \r\n\t\t\tconst _self = this;\r\n\t\t\tconst _handlePush = function(message) {\r\n\t\t\t\t// TODO  \r\n\t\t\t\tlet natUrl = message.payload\r\n\t\t\t\tuni.navigateTo({\r\n\t\t\t\turl: natUrl  \r\n\t\t\t\t});\r\n\t\t\t};\r\n\t\t\tplus.push.addEventListener('click', _handlePush);\r\n\t\t\tplus.push.addEventListener('receive', _handlePush);\r\n\t\t\t// #endif  \r\n\t\t},\r\n\t\tonShow: function() {},\r\n\t\tonHide: function() {}\r\n\t}\r\n</script>\r\n\r\n<style>\r\n\t/*每个页面公共css */\r\n\t/* uni-rich-text img {\r\n\t\tmax-width: 100% !important;\r\n\t\t} */\r\n\t/* .nothingImg {\r\n\t\t\twidth: 600rpx;\r\n\t\t\theight: 400rpx;\r\n\t\t\tmargin: 0 auto;\r\n\t\t\tmargin-top: 200rpx;\r\n\t\t} */\r\n\t// #ifndef APP-PLUS-NVUE\r\n\t.nothingImg {\r\n\t\twidth: 600rpx;\r\n\t\theight: 400rpx;\r\n\t\tmargin: 0 auto;\r\n\t\tmargin-top: 200rpx;\r\n\t}\r\n\r\n\t// #endif\r\n</style>\n","import mod from \"-!../../../Program Files/HBuilderX/plugins/uniapp-cli/node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../Program Files/HBuilderX/plugins/uniapp-cli/node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../../Program Files/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/stylePostLoader.js!../../../Program Files/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--6-oneOf-1-2!../../../Program Files/HBuilderX/plugins/uniapp-cli/node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-3!../../../Program Files/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../Program Files/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./App.vue?vue&type=style&index=0&lang=css&\"; export default mod; export * from \"-!../../../Program Files/HBuilderX/plugins/uniapp-cli/node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../Program Files/HBuilderX/plugins/uniapp-cli/node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../../Program Files/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/stylePostLoader.js!../../../Program Files/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--6-oneOf-1-2!../../../Program Files/HBuilderX/plugins/uniapp-cli/node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-3!../../../Program Files/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../Program Files/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./App.vue?vue&type=style&index=0&lang=css&\"","// extracted by mini-css-extract-plugin\n    if(module.hot) {\n      // 1707128367702\n      var cssReload = require(\"D:/Program Files/HBuilderX/plugins/uniapp-cli/node_modules/mini-css-extract-plugin/dist/hmr/hotModuleReplacement.js\")(module.id, {\"hmr\":true,\"publicPath\":\"../../\",\"locals\":false});\n      module.hot.dispose(cssReload);\n      module.hot.accept(undefined, cssReload);\n    }\n  "],"sourceRoot":""}